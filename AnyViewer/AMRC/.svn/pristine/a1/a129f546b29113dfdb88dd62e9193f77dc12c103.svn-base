/////////////////////////////////////////////////////////////////////
/// @file XMLConfig.h
/// @brief xml格式文件操作类定义
/// 
/// @author andy
/// @version 1.0
/// @date 2021.5.10
/////////////////////////////////////////////////////////////////////
#pragma once

#include <boost/property_tree/xml_parser.hpp>
#include <boost/property_tree/ptree.hpp>


using ScaningCallback = std::function<bool(boost::property_tree::ptree&)>;


class CXMLConfig
{
public:
	CXMLConfig();

	~CXMLConfig();
public:
	// 加载配置信息
	bool Load(std::string strPath);

	// 保存配置信息
	bool Save(std::string strPath);

public:
	void ScanNode(ScaningCallback fnCallback);

private:

	void DoScanNode(boost::property_tree::ptree& refNode, ScaningCallback fnCallback);

private:
	boost::property_tree::ptree   m_pRootNode;
};

