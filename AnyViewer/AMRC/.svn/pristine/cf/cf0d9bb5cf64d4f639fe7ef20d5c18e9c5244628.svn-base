/////////////////////////////////////////////////////////////////////////////////////////
/// @file  WsktHandshakePacket.h
/// @brief websocket握手数据包类
/// 
/// @author Leiyz
/// @date   20170829
/////////////////////////////////////////////////////////////////////////////////////////
#pragma once

#include <ServiceImpl.h>
#include <unordered_map>

class CWsktHandshakePacket : public CNetPacketBase
{
public:
    CWsktHandshakePacket();
    CWsktHandshakePacket(INT nSize);
    ~CWsktHandshakePacket();

public:
    virtual NET_EXTRACT_DATA_PACKET_RESULT ExtractData(CDataStreamBuffer&) override;
    virtual void ResetContent() override;

public:
    //初始化握手响应数据包
    void InitHandsharkResponse(const std::string& strWebsocketKey);

private:
    DECLARE_MEMBER_AND_METHOD(std::string, m_str_websocket_key, websocket_key);
};

